---
import Layout from '../layouts/Layout.astro';
import RouteMap from '../components/RouteMap.astro';

// Ruta de ejemplo (Madrid a Toledo)
const demoRoute = [
  [37.723503, -3.967278],
  [37.719436, -3.968132],
  [37.718293, -3.969675],
  [37.721977, -3.969864],
  [37.723503, -3.967278] 
];
---

<Layout>
  <main class="p-4">
    <h1 class="text-2xl font-bold mb-4">Mapa con Ruta Animada</h1>
    
    <!-- Contenedor con altura explícita -->
    <div class="mb-4" style="min-height: 500px; border: 1px solid #ddd;">
      <RouteMap route={demoRoute} height="500px" id="routeMap" />
    </div>
    
    <div class="mt-4">
      <p>Esta demo muestra una ruta desde Madrid a Toledo.</p>
      <!-- Botón para debug -->
      <button id="debugBtn" class="mt-4 p-2 bg-blue-500 text-white rounded">
        Reiniciar Mapa
      </button>
    </div>
  </main>

  <script>
    // Script para ayudar a detectar problemas
    document.getElementById('debugBtn')?.addEventListener('click', () => {
      console.log('Intentando reiniciar el mapa...');
      location.reload();
    });
  </script>
</Layout>